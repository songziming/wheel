# 一些设计取舍

### 划分内存布局

决定以下区域在内存中的位置：
- 内核代码数据
- 启动阶段申请占用的内存（重要数据结构备份、framebuf 离屏缓冲区）
- 页描述符数组
- PCPU 区域（多份）

这些内存编译时大小未知，必须启动后确定位置和大小。

相邻 range 之间可以留有 guard page，虚拟地址空间不映射，如果访问越界能立即发现。

